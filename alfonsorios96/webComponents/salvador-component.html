<html>
<head>
    <meta charset="utf-8">
</head>
<body>
<template id="ulTemplate">
    <ul></ul>
</template>

<script>
  (function UlElement(customElements, document) {
    'use strict';

    //{ "title","Persuasion", "author","Austen" }

    class UlElement extends HTMLElement {
      constructor() {
        super();
        const shadowRoot = this.attachShadow({mode: 'open'});
        let ulTemplate = document.currentScript.ownerDocument.querySelector('#ulTemplate');
        const list = this.getAttribute('content');
        const array = JSON.parse(list);
        for (const item of array) {
          const li = document.createElement('li');
          li.textContent = item;
          ulTemplate.content.querySelector('ul').appendChild(li);
        }
        const ulInstance = document.importNode(ulTemplate.content, true);
        shadowRoot.appendChild(ulInstance);
      }
    }

    customElements.define('ul-element', UlElement);
  })(window.customElements, document);

</script>
</body>
</html>
